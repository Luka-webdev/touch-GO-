const wrapperWelcomeScreen=document.querySelector(".wrapperWelcomeScreen"),wrapperAreaGame=document.querySelector(".wrapperAreaGame"),areaGame=document.querySelector(".areaGame"),closeWelcomeScreen=document.querySelector(".fa-window-close"),wrapperTracks=document.querySelector(".wrapperTracks"),ball=document.querySelector(".ball"),tracksArray=[track1,track2,track3,track4,track5,track6,track7,track8,track9,track10,track11,track12,track13,track14,track15];wrapperAreaGame.classList.add("visibility");let flag=!1,dimensionsAreaGame=getComputedStyle(areaGame),size=.6;const settings={shiftX:parseInt(dimensionsAreaGame.marginLeft),shiftY:parseInt(dimensionsAreaGame.marginTop),heightTrackElement:parseInt(dimensionsAreaGame.height)/7,widthTrackElement:parseInt(dimensionsAreaGame.width)/12,ballSize:parseInt(dimensionsAreaGame.height)/7*size},showAreaGame=function(){wrapperAreaGame.classList.remove("visibility"),createTrack()},createTrackBox=function(e){const t=document.createElement("div");t.classList.add("trackBox"),"ready"==e?(t.style.backgroundImage="url(pictures/picture1.png)",t.addEventListener("click",showAreaGame)):"blocked"==e&&(t.innerHTML='<i class = "fas fa-lock" ></i>'),wrapperTracks.appendChild(t)},showAllTracks=function(){for(let e=0;e<tracksArray.length;e++)"ready"==tracksArray[e].status?createTrackBox("ready"):createTrackBox("blocked")};showAllTracks();const createTrackElement=function(e,t){const a=document.createElement("div");a.classList.add("trackItem"),a.style.gridColumn=e,a.style.gridRow=t,areaGame.appendChild(a)},createTrack=function(){for(let e=0;e<tracksArray[0].layout.length;e++)createTrackElement(tracksArray[0].layout[e].column,tracksArray[0].layout[e].row);createBall()},createBall=function(){ball.style.width=settings.ballSize+"px",ball.style.height=settings.ballSize+"px",ball.style.top=settings.heightTrackElement*(tracksArray[0].layout[0].row-1)+settings.heightTrackElement/2-settings.ballSize/2+"px"},recognizeTrackElement=function(){var e=Math.ceil(ballCenterX/settings.widthTrackElement),t=Math.ceil(ballCenterY/settings.heightTrackElement);console.log(e,t)},moveBall=function(e){ballCenterX=parseInt(ball.style.left)+settings.ballSize/2,ballCenterY=parseInt(ball.style.top)+settings.ballSize/2,flag&&(ball.style.top=e.clientY-settings.shiftY-offsetY+"px",ball.style.left=e.clientX-settings.shiftX-offsetX+"px",recognizeTrackElement())},getOffsetProperty=function(e){flag=!0,offsetX=e.offsetX,offsetY=e.offsetY};ball.addEventListener("mousedown",getOffsetProperty),ball.addEventListener("mouseup",function(){flag=!1}),areaGame.addEventListener("mousemove",moveBall),closeWelcomeScreen.addEventListener("click",function(){wrapperWelcomeScreen.classList.add("visibility")});